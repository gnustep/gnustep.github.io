
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Introduction to Libraries &#8212; GNUstep</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'APIRefs/Make/Topics/LibraryIntroduction';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Project Types" href="../ProjectTypes/index.html" />
    <link rel="prev" title="Parallel Building" href="ParallelBuilding.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">GNUstep</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../Guides/index.html">
    Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../Manuals/index.html">
    Manuals
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    API references
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../About/index.html">
    About
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../Showcase/index.html">
    Showcase
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../Guides/index.html">
    Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../Manuals/index.html">
    Manuals
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    API references
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../About/index.html">
    About
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../Showcase/index.html">
    Showcase
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Make</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Introduction.html">Introduction</a></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">Topics</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Subproject.html">Subprojects</a></li>
<li class="toctree-l3"><a class="reference internal" href="MultipleTypes.html">Building more than one thing in the same GNUmakefile</a></li>
<li class="toctree-l3"><a class="reference internal" href="Aggregate.html">Aggregate projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="ParallelBuilding.html">Parallel Building</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Introduction to Libraries</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ProjectTypes/index.html">Project Types</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../ProjectTypes/Project.html">Project reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ProjectTypes/ResourceSet.html">Resource Set reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ProjectTypes/Tool.html">Tool reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ProjectTypes/Application.html">Application reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ProjectTypes/Library.html">Library reference</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../OtherVariables/index.html">Other Variables</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../OtherVariables/Flags.html">Overridable Flags</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../ReleaseNotes.html">Release Notes</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../Base/index.html">GNUstep Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gui/index.html">GNUstep Gui</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">API references</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Make</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Topics</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Introduction to Libraries</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="introduction-to-libraries">
<h1>Introduction to Libraries<a class="headerlink" href="#introduction-to-libraries" title="Link to this heading">#</a></h1>
<section id="compiling-a-library">
<h2>Compiling A Library<a class="headerlink" href="#compiling-a-library" title="Link to this heading">#</a></h2>
<p>We start with a very simple example of a library. Our tiny library will contain a single class, called <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code>, which has a method to print out a nice string.</p>
<p>The library has only one header file (called <code class="docutils literal notranslate"><span class="pre">HelloWorld.h</span></code>), which is the following:</p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifndef _HELLOWORLD_H_</span>
<span class="cp">#define _HELLOWORLD_H_</span>

<span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>

<span class="k">@interface</span> <span class="nc">HelloWorld</span> : <span class="bp">NSObject</span>
<span class="p">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">printMessage</span><span class="p">;</span>
<span class="k">@end</span>

<span class="cp">#endif </span><span class="cm">/* _HELLOWORLD_H_ */</span>
</pre></div>
</div>
<p>(This header file quite simply says that <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> is a subclass of <code class="docutils literal notranslate"><span class="pre">NSObject</span></code>, and implements a single class method <code class="docutils literal notranslate"><span class="pre">printMessage</span></code>; the <code class="docutils literal notranslate"><span class="pre">#ifdef</span></code>s are the standard way of protecting a C header file from multiple inclusions, but are not completely necessary if you use <code class="docutils literal notranslate"><span class="pre">#import</span></code>).</p>
<p>The source code of our class is in the file <code class="docutils literal notranslate"><span class="pre">HelloWorld.m</span></code>, and is the following:</p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="cp">#import &quot;HelloWorld.h&quot;</span>

<span class="k">@implementation</span> <span class="nc">HelloWorld</span>
<span class="p">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">printMessage</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello World!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span>
<span class="k">@end</span>
</pre></div>
</div>
<p>(This implements the <code class="docutils literal notranslate"><span class="pre">printMessage</span></code> class method for the class <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code>, and all what this method does is printing out <code class="docutils literal notranslate"><span class="pre">Hello</span> <span class="pre">World!</span></code>.)</p>
<p>To compile our library, we create a <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code> as follows:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="cp">include $(GNUSTEP_MAKEFILES)/common.make</span>

<span class="nv">LIBRARY_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>libHelloWorld
<span class="nv">libHelloWorld_HEADER_FILES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>HelloWorld.h
<span class="nv">libHelloWorld_HEADER_FILES_INSTALL_DIR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>HelloWorld
<span class="nv">libHelloWorld_OBJC_FILES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>HelloWorld.m

<span class="cp">include $(GNUSTEP_MAKEFILES)/library.make</span>
</pre></div>
</div>
<p>The main differences with the <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code> for a tool or an application are that we include <code class="docutils literal notranslate"><span class="pre">library.make</span></code> instead of <code class="docutils literal notranslate"><span class="pre">tool.make</span></code> or <code class="docutils literal notranslate"><span class="pre">application.make</span></code>, and that we set the <code class="docutils literal notranslate"><span class="pre">xxx_HEADER_FILES</span></code> variable to tell the make system which are the library header files. This is quite important because the header files will be installed with the library when the library is installed.</p>
<p>In order to do things cleanly, each library should install its headers in a different directory, so headers from different libraries don’t get mixed and confused; this is why we specify that our header file has to be installed in a <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> directory:</p>
<div class="highlight-make notranslate"><div class="highlight"><pre><span></span><span class="nv">libHelloWorld_HEADER_FILES_INSTALL_DIR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>HelloWorld
</pre></div>
</div>
<p>As a consequence, an application or a tool which needs to use the library will include the header file by using</p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="cp">#import &lt;HelloWorld/HelloWorld.h&gt;</span>
</pre></div>
</div>
<p>because we have installed it into the <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> directory.</p>
<p>As usual, to compile type <code class="docutils literal notranslate"><span class="pre">make</span></code> and to install type <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code>.</p>
</section>
<section id="linking-your-app-or-tool-against-a-gnustep-library">
<h2>Linking your app or tool against a GNUstep library<a class="headerlink" href="#linking-your-app-or-tool-against-a-gnustep-library" title="Link to this heading">#</a></h2>
<p>In our first example, we want to write a tiny tool which uses our <code class="docutils literal notranslate"><span class="pre">libHelloWorld</span></code>. The tool source code is in the file <code class="docutils literal notranslate"><span class="pre">main.m</span></code>, which is the following:</p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>
<span class="cp">#import &lt;HelloWorld/HelloWorld.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="n">HelloWorld</span><span class="w"> </span><span class="n">printMessage</span><span class="p">];</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>(We invoke the <code class="docutils literal notranslate"><span class="pre">printMessage</span></code> method of the <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> class, then exit).</p>
<p>We write our usual <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code> (but including <code class="docutils literal notranslate"><span class="pre">GNUmakefile.preamble</span></code>):</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="cp">include $(GNUSTEP_MAKEFILES)/common.make</span>

<span class="nv">TOOL_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>HelloWorldTest
<span class="nv">HelloWorldTest_OBJC_FILES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>main.m

<span class="cp">include GNUmakefile.preamble</span>
<span class="cp">include $(GNUSTEP_MAKEFILES)/tool.make</span>
</pre></div>
</div>
<p>Then, here is the <code class="docutils literal notranslate"><span class="pre">GNUmakefile.preamble</span></code>, in which we tell the make package about the library we want to link against:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nv">HelloWorldTest_TOOL_LIBS</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>-lHelloWorld
</pre></div>
</div>
<p>It’s not entirely necessary to have a separate <code class="docutils literal notranslate"><span class="pre">GNUmakefile.preamble</span></code>, but you have to do that if you have an app that manages your <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code>, like ProjectCenter does.</p>
<p>If you have correctly installed the library <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code>, this is all you need to do. If you needed to link against more than one library, you would simply put them on the same line, as in:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nv">HelloWorldTest_TOOL_LIBS</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>-lHelloWorld<span class="w"> </span>-lHelloMoon
</pre></div>
</div>
<p>which links against the two libraries <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> and <code class="docutils literal notranslate"><span class="pre">HelloMoon</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">HelloWorldTest</span></code> were an application, you would need to use</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nv">HelloWorldTest_GUI_LIBS</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>-lHelloWorld
</pre></div>
</div>
<p>(the difference is <code class="docutils literal notranslate"><span class="pre">GUI</span></code> instead of <code class="docutils literal notranslate"><span class="pre">TOOL</span></code>).</p>
</section>
<section id="linking-against-an-external-library">
<h2>Linking against an external library<a class="headerlink" href="#linking-against-an-external-library" title="Link to this heading">#</a></h2>
<p>If the library you want to link against is not a GNUstep library (ie, not managed by the GNUstep make package), for example a C library you get from an external source, you need to tell the GNUstep make package where the library can be found. In this case, your <code class="docutils literal notranslate"><span class="pre">GNUmakefile.preamble</span></code> would look something like the following:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nv">HelloWorldTest_TOOL_LIBS</span><span class="w">    </span><span class="o">+=</span><span class="w"> </span>-lNicola
<span class="nv">HelloWorldTest_INCLUDE_DIRS</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>-I/opt/nicola/include/
<span class="nv">HelloWorldTest_LIB_DIRS</span><span class="w">     </span><span class="o">+=</span><span class="w"> </span>-L/opt/nicola/libs/
</pre></div>
</div>
<p>where I am linking against the library <code class="docutils literal notranslate"><span class="pre">libNicola</span></code>, which is in the directory <code class="docutils literal notranslate"><span class="pre">/opt/nicola/libs/</span></code> and whose headers are in <code class="docutils literal notranslate"><span class="pre">/opt/nicola/include/</span></code>.</p>
</section>
<section id="linking-a-library-against-another-library">
<h2>Linking a library against another library<a class="headerlink" href="#linking-a-library-against-another-library" title="Link to this heading">#</a></h2>
<p>You might need to build a shared library (for example called <code class="docutils literal notranslate"><span class="pre">libNicola</span></code>) which depends on another library (for example on <code class="docutils literal notranslate"><span class="pre">libHelloWorld</span></code>), and requiring the other library to be loaded automatically whenever your library is. We say that your library (<code class="docutils literal notranslate"><span class="pre">libNicola</span></code>) depends on the other one (<code class="docutils literal notranslate"><span class="pre">libHelloWorld</span></code>).</p>
<p>This case is quite simple - you write a usual <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code> for your library:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="cp">include $(GNUSTEP_MAKEFILES)/common.make</span>

<span class="nv">LIBRARY_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>libNicola
<span class="nv">libNicola_OBJC_FILES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>two.m

<span class="cp">include GNUmakefile.preamble</span>
<span class="cp">include $(GNUSTEP_MAKEFILES)/library.make</span>
</pre></div>
</div>
<p>and add a <code class="docutils literal notranslate"><span class="pre">GNUmakefile.preamble</span></code> in which you tell the make package that this library depends on the library <code class="docutils literal notranslate"><span class="pre">libHelloWorld</span></code>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nv">libNicola_LIBRARIES_DEPEND_UPON</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>-lHelloWorld
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>GNUstep make is not a package manager. It will not detect whether <code class="docutils literal notranslate"><span class="pre">libHelloWorld</span></code> is installed. It will not ensure that the correct version of <code class="docutils literal notranslate"><span class="pre">libHelloWorld</span></code> is installed. It will not automatically install or update <code class="docutils literal notranslate"><span class="pre">libHelloWorld</span></code>.</p>
</div>
<p>You can also put <code class="docutils literal notranslate"><span class="pre">libNicola_LIBRARIES_DEPEND_UPON</span></code> in your <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code>. The reason <code class="docutils literal notranslate"><span class="pre">GNUmakefile.preamble</span></code> is used is because it allows you to change these variables when ProjectCenter.app or another IDE manages your <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code> and overwrites your changes.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="ParallelBuilding.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Parallel Building</p>
      </div>
    </a>
    <a class="right-next"
       href="../ProjectTypes/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Project Types</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#compiling-a-library">Compiling A Library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linking-your-app-or-tool-against-a-gnustep-library">Linking your app or tool against a GNUstep library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linking-against-an-external-library">Linking against an external library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linking-a-library-against-another-library">Linking a library against another library</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../../_sources/APIRefs/Make/Topics/LibraryIntroduction.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, GNUstep contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>